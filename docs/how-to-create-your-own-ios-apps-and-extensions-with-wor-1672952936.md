# 如何使用工作流创建自己的 iOS 应用程序和扩展

> 原文：<https://lifehacker.com/how-to-create-your-own-ios-apps-and-extensions-with-wor-1672952936>

[Workflow 的](https://itunes.apple.com/app/workflow-powerful-automation/id915249334) 一个新的 iOS 应用程序，你可以创建自己的小微型应用程序，可以立即搜索回家的方向，找到最近的披萨店，搜索当前播放歌曲的歌词，等等。最精彩的部分？工作流超级好用。让我们深入了解它是如何工作的，并学习如何制作自己的工作流程。



工作流让我们想起了很多 Mac 上最好的 [应用之一，Automator](https://lifehacker.com/automate-just-about-anything-on-your-mac-no-coding-req-5668648) 。有了 Workflow，你将获得我们在 iOS 上见过的最接近 Automator 的东西，你甚至不需要越狱就可以使用它。

### 您可以对工作流做什么

顾名思义，你通过创建“工作流”来完成任务。这些工作流是一系列称为“操作”的方向，告诉原生 iOS 应用程序做特定的事情。例如，工作流操作可以提取日历事件，从网页中提取数据，或者获取剪贴板中的内容。它甚至可以要求输入并相应地改变输出。工作流通过内容图将这些操作联系在一起，这意味着您可以集成看似不相关的应用程序，如 iTunes 中的地图或 Twitter 中的日历。

本质上，只需一点努力，你就可以制作自己的小应用和扩展。这听起来超级复杂，但是 Workflows 通过基本的拖放功能使整个过程尽可能简单。

在你开始过多地摆弄工作流程之前，我建议你打开应用程序，点击“图库”按钮。在这里，你会发现一些预制的工作流程，可以让你熟悉应用程序的工作方式。点击一个例子，点击下载链接，看看每个里面的动作。如果你愿意，你可以修改它们，但是最好只是在引擎盖下窥视一下，以便更好地了解这些工作流程是如何工作的。一旦你熟悉了基础知识，是时候开始考虑制作自己的工作流程了。

### 动作如何工作

每个工作流的基础是动作。单个操作被链接在一起，形成一个工作流。例如，有一个“获取即将到来的日历事件”动作，“选择电话号码”动作，“在地图中打开”动作，以及“获取网络名称”动作。工作流中内置了近 150 种不同的操作。当您创建一个新的工作流时，您需要选择哪些操作进入其中。它们分为 10 类:

*   日历
*   联系人
*   文档
*   地图
*   音乐
*   照片和视频
*   脚本
*   共享
*   文本
*   网

您还可以访问“建议”类别，该类别会根据以前的操作自动建议操作。

如果你熟悉其他自动化软件，像 OS X 的自动机或[If This Then](https://ifttt.com/)，那么你会很快理解动作。你首先选择你想在工作流程中发生的第一个动作，比如说，算出今天的日期。然后你和其他人一起跟随这个动作，就像一个简单的微型程序。如果今天的日期很重要，那么就有事情发生了。真的就这么简单。

### 工作流是如何执行的

工作流可以通过三种不同的方式执行。你可以在主屏幕上创建一个图标，在应用程序中运行它，或者通过共享扩展运行。使用主屏幕图标，您只需点击图标即可启动工作流程。应用内也是如此。

如果您决定进行共享扩展，您可以设置它出现在哪种类型的共享表中。您可以从以下选项中选择:

*   联系人
*   日期
*   电子邮件地址
*   文件
*   形象
*   位置
*   地图链接
*   媒体
*   pdf
*   电话号码
*   多信息文本
*   文本
*   资源定位符

无论您选择哪一个，您的工作流都将显示为一个扩展。您也可以挑选您的工作流程将出现在哪些页面中。例如，您可以设置一个链接共享工作流程，该流程仅在您共享 URL 时出现，而在您共享电话号码时不出现。这可以让你的共享扩展变得干净整洁。

### 创建您自己的工作流程

最好只做几个工作流，了解它们是如何工作的。因此，让我们制作几个使用不同类型的操作的不同示例，让您从整体上熟悉工作流。基本过程非常简单:

1.  点击“我的工作流”选项卡下的“创建工作流”按钮
2.  点击操作选项卡
3.  选择您想要添加到工作流程的操作，轻按并按住它，然后将它拖到您的工作流程中
4.  为每个要添加的动作执行此操作
5.  轻按“播放”按钮来测试您的工作流程
6.  点击齿轮图标以保存您的工作流程
7.  命名您的工作流，选择它的图标，并决定它是普通扩展还是动作扩展

显然，根据你所做的工作流的类型，会有一些变化，但这是要点。我们去建筑吧。

#### 打印到 PDF

让我们从简单的开始，在 iOS 中添加一个“打印成 PDF”选项。这将为您正在查看的任何内容创建一个 PDF 文件，无论是 URL、文本文档、图像还是其他任何内容，然后允许您将 PDF 保存到您想要的任何位置。

1.  创建新的工作流
2.  点击齿轮图标，并将您的工作流程命名为“保存为 PDF”
3.  选择图标和颜色，然后点击“完成”
4.  点击屏幕底部的操作选项卡
5.  搜索“PDF”并选择“制作 PDF”操作
6.  轻按并按住“制作 PDF”选项，然后将其拖到您的工作流程中
7.  返回到“操作”选项卡，搜索“快速查看”，这将打开您创建的 PDF 文件，以便您可以保存它。将其拖放到您的工作流程中。
8.  点击“完成”保存您的工作流程。

现在，你只需要测试一下。前往 Safari，轻按“共享”按钮，然后选择“运行工作流程”选择你的“打印成 PDF”选项并运行它。您应该会看到您正在查看的网页被转换为 PDF 文件。只需点击“共享”按钮，就可以将它保存到任何您想要的位置。

#### 查找当前播放歌曲的歌词

如果你喜欢学习歌曲的歌词，那么你最常见的行为之一可能就是搜索你的音乐应用程序中正在播放的任何歌曲的歌词。您可以通过工作流使这一过程变得非常简单。

1.  创建一个名为歌词搜索的新工作流。
2.  添加“获取当前歌曲”动作
3.  添加“文本”操作
4.  在文本框中，选择“输入”作为选项，然后键入“歌词”
5.  添加“url”动作，使用`http://www.google.com/search?q=`作为 URL，然后从键盘顶部添加输入选项，因此它显示为`http://www.google.com/search?q=(input)`
6.  添加“打开 URL”操作

开始一首歌，然后测试你的工作流程。它应该使用歌曲的标题调出歌词。

#### 点击以订购披萨

有时候，你只想尽可能快地吃披萨。工作流提供了一种非常快捷的方法。

1.  创建一个名为 Pizza 的新工作流
2.  添加“搜索本地企业”操作，并输入“比萨饼”
3.  添加“从列表中选择”动作
4.  添加“呼叫”动作

点击测试按钮运行您的工作流程。它会搜索你附近的披萨店，让你挑一家订餐，然后给这家店打电话。你可以稍微改变这些来搜索像咖啡店或加油站这样的其他企业，然后通过简单地添加“获取方向”动作来获取方向而不是打电话。

#### 缩小并共享图像

默认情况下，iOS 图像相当大，但是您可以缩小它们，以便使用 Workflow 进行共享。这个非常容易做到:

1.  创建一个名为“收缩”的新工作流
2.  添加“选择照片”操作
3.  添加“调整图像大小”动作并选择尺寸。如果你真的想缩小图像，选择 640 X 480
4.  添加“快速查看”动作

就是这样，只需轻轻一点，你就可以调出你的照片库，选择一张图片，调整它的大小，然后选择在任何你想分享的地方分享它。

#### 在你当前浏览的网站上做一个特定的搜索

有没有在 Lifehacker 网站上发现自己，并想在网站上搜索其他文章？一个针对特定网站的谷歌搜索在桌面上很容易 ，但在移动设备上有点麻烦。以下是如何创建一个工作流程来搜索您当前查看的站点:

1.  创建一个名为“站点特定搜索”的新工作流
2.  添加“从输入中获取 URL”动作
3.  添加 URL 操作的 Get 组件，并为该组件选择“Host”。这种拉取只获取 URL 的主机部分，并转储其余部分。
4.  添加“设置变量”动作，并键入“主机”这会将 URL 添加到变量中。
5.  添加“请求输入”操作。在“提示”下，键入“搜索？”并在输入类型下选择“文本”
6.  添加“替换文本”操作。将“查找文本”留空，并在“替换为”前添加“+”
7.  添加“设置变量”操作，并输入“搜索”
8.  添加“文本”动作，键入 [`http://www.google.com/search=?q=site:`](http://www.google.com/search=?q=site:) ，然后点击“变量……”选项并选择“主机”，然后键入“+”，然后点击“变量...”选项并选择“搜索”。它应该显示为`http://www.google.com/search?q=(host)+(search)`
9.  添加“打开 URL”操作

去 Safari 上测试一下吧。它应该拉从当前网站的网址，为您提供一个弹出输入您的搜索，然后搜索网站使用网站特定的搜索。

当然，这只是开始。工作流的吸引力在于几乎无限的可能性。一旦你掌握了基础知识，你就可以开始创建做各种疯狂事情的微型应用程序。

*<small>照片由</small>*[*<small>Artit fong ung</small>*](http://www.shutterstock.com/pic.mhtml?id=224259943&src=id)*<small>和</small>*[*<small>Piotr 西科拉</small>*](http://www.shutterstock.com/pic.mhtml?id=7378513&src=id) *<small>。</small>*